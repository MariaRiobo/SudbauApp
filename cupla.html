<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tipo de Tubo</title>
  <link rel="stylesheet" href="css/app.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">

</head>
<body>
  <div class="container container-large container-wide">

    <!-- Header (igual criterio que Corrosión) -->
    <div class="header-corrosion">
            <div class="header-left">
                <img src="img/logo.png" alt="Logo de la empresa" class="logo">
                <h1 class="title">CUPLA</h1>
                <p class="subtitulo-tubo">Tubo Nº <span id="numero-tubo"></span></p>
            </div>
        </div>

    <!-- Grilla -->
  <div class="tipo-container">
  <div class="tipo-item">
    <a href="" class="tipo-btn">CO</a>
    <p>Corrosión</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">DG</a>
    <p>Desgaste general</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">DC</a>
    <p>Desgaste cuña/contra</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">DP</a>
    <p>Desgaste puntual</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">TR</a>
    <p>Tubing roto</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">TT</a>
    <p>Tubing torcido</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">TP</a>
    <p>Tubing pinchado</p>
  </div>
  <div class="tipo-item">
    <a href="" class="tipo-btn">RV</a>
    <p>Rozamiento de varilla</p>
  </div>
  <div class="tipo-item tipo-span-2">
    <a href="" class="tipo-btn">UG</a>
    <p>Ungraded</p>
  </div>
</div>

    <!-- Botón inferior -->
    <div class="controles">
      <a href="./tipo.html" class="btn-volver">Atrás</a>
      <button id="btn-siguiente-tubo" class="btn">Siguiente tubo</button>
    </div>
    <div class="controles">
      <button id="btn-finalizar" class="btn btn-danger">Finalizar inspección</button>
    </div>

  </div>
<script>
    // 1. Mostrar número de tubo actual
    const rawData = localStorage.getItem('intervencionActual');

    if (!rawData) {
      window.location.href = 'InicioSesion.html';
    } else {
      const intervencion = JSON.parse(rawData);

      // Mostrar Tubo Nº X en pantalla
      const numeroTuboSpan = document.getElementById('numero-tubo');
      if (numeroTuboSpan) {
        numeroTuboSpan.textContent = intervencion.tuboActual;
      }

      // 2. Botón "Siguiente tubo" → incrementa contador y vuelve al inicio del loop
      const btnSiguiente = document.getElementById('btn-siguiente-tubo');
      btnSiguiente.addEventListener('click', () => {

        intervencion.tuboActual = intervencion.tuboActual + 1;
        localStorage.setItem('intervencionActual', JSON.stringify(intervencion));
        window.location.href = 'Corrosion.html';
      });
    const btnFinalizar = document.getElementById('btn-finalizar');
    btnFinalizar.addEventListener('click', () => {

      localStorage.removeItem('intervencionActual');
      window.location.href = 'InicioSesion.html';
    });
    }
  </script>

</body>
</html>
